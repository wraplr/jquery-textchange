!function(n){"use strict";var e=-1,t=[],a={checkDelayed:function(){for(var n=0;n<t.length;n++){var e=t[n],i=e.inp.value;e.dt>0&&(new Date).getTime()-e.dt>=e.to&&a.triggerEvent(e,i)}},checkChanges:function(n){var e=n.inp.value;n.val!=e&&(n.to>0?n.dt=(new Date).getTime():a.triggerEvent(n,e),n.val=e)},triggerEvent:function(e,t){e.old!=t&&(n(e.inp).trigger("textchange"+(""==e.ns?"":"."+e.ns),[e.guid]),e.old=t,e.dt=0)},eventString:function(e){var t=["input","change","propertychange","paste","focusout"];return""!=e&&n.each(t,function(n,a){t[n]+="."+e}),t.join(" ")}};n.fn.textchange=function(e,t){n.isFunction(e)&&(t=e,e=0),void 0===t?n(this).off("textchange"):n(this).on("textchange",e,t)},n.event.special.textchange={setup:function(n,t){e<0&&(e=setInterval(a.checkDelayed,1))},teardown:function(n){e>-1&&(clearInterval(e),e=-1)},add:function(e){var i=e.data,c=e.handler;void 0===i&&(i=0),n(this).each(function(c,r){if(n.isFunction(n(r).val)){var o={inp:r,guid:e.guid,val:n(r).val(),old:n(r).val(),ns:e.namespace,to:i,dt:0};n(r).on(a.eventString(e.namespace),function(e){"focusout"==e.type?a.triggerEvent(o,n(this).val()):a.checkChanges(o)}),t.push(o)}}),n.isFunction(c)&&(e.handler=function(n,t){if(e.guid==t)return c.apply(this,arguments);n.preventDefault()})},remove:function(e){var i=[];n(this).each(function(c,r){for(var o=0;o<t.length;o++){var u=t[o];u.inp!=r||u.ns!=e.namespace?i.push(u):n(u.inp).off(a.eventString(e.namespace))}}),t=i}}}(jQuery);